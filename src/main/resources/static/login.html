<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>联通登录页</title>
    <link href="../css/normalize.css" type="text/css" rel="stylesheet">
    <style>
        header{
            position: relative;
            z-index: 0;
        }
        body{
            min-width: 500px;
            margin:0;
            padding: 0;
            background-color: #fff;
        }
        @media screen and (min-width: 750px) {
            .bgImg{
                height: 260px;
                width: 100%;
                overflow: hidden;
                background-image: url("../image/bg_01.png");
                background-repeat:no-repeat;
                background-size:100% 100%;
                z-index: 1;
            }
            .signin-box .line{
                /*position: absolute;*/
                /*left:50%;*/
                /*margin-left: -50%;*/
                width:40%;
                height:1px;
                border-radius:10px;
                display: block;
                margin: 0 auto 25px;
                background: -webkit-linear-gradient(left, rgba(228,32,32,0) 3%,rgba(228,32,32,1) 20%,rgba(228,32,32,1) 80%, rgba(228,32,32,0) 100%); /* Safari 5.1 - 6.0 */
                background: -o-linear-gradient(right, rgba(228,32,32,0) 3%,rgba(228,32,32,1) 20%,rgba(228,32,32,1) 80%, rgba(228,32,32,0) 100%); /* Opera 11.1 - 12.0 */
                background: -moz-linear-gradient(right, rgba(228,32,32,0) 3%,rgba(228,32,32,1) 20%,rgba(228,32,32,1) 80%, rgba(228,32,32,0) 100%); /* Firefox 3.6 - 15 */
                background: linear-gradient(to right, rgba(228,32,32,0) 3%,rgba(228,32,32,1) 20%,rgba(228,32,32,1) 80%, rgba(228,32,32,0) 100%); /* 标准的语法（必须放在最后） */

            }
        }
        @media screen and (max-width: 750px) {
            .bgImg{
                height: 260px;
                width: 100%;
                overflow: hidden;
                background-image: url("../image/bg_02.png");
                background-repeat:no-repeat;
                background-size:100% 100%;
                z-index: 1;
            }
            .signin-box .line{
                /*position: absolute;*/
                /*left:50%;*/
                /*margin-left: -50%;*/
                width:80%;
                height:1px;
                border-radius:10px;
                display: block;
                margin: 0 auto 25px;
                background: -webkit-linear-gradient(left, rgba(228,32,32,0) 3%,rgba(228,32,32,1) 20%,rgba(228,32,32,1) 80%, rgba(228,32,32,0) 100%); /* Safari 5.1 - 6.0 */
                background: -o-linear-gradient(right, rgba(228,32,32,0) 3%,rgba(228,32,32,1) 20%,rgba(228,32,32,1) 80%, rgba(228,32,32,0) 100%); /* Opera 11.1 - 12.0 */
                background: -moz-linear-gradient(right, rgba(228,32,32,0) 3%,rgba(228,32,32,1) 20%,rgba(228,32,32,1) 80%, rgba(228,32,32,0) 100%); /* Firefox 3.6 - 15 */
                background: linear-gradient(to right, rgba(228,32,32,0) 3%,rgba(228,32,32,1) 20%,rgba(228,32,32,1) 80%, rgba(228,32,32,0) 100%); /* 标准的语法（必须放在最后） */

            }
        }
        /*.bg-blur{*/
            /*-webkit-filter: blur(5px); !* Chrome, Opera *!*/
            /*-moz-filter: blur(5px);*/
            /*-ms-filter: blur(5px);*/
            /*filter: blur(5px);*/

            /*filter: progid:DXImageTransform.Microsoft.Blur(PixelRadius=10, MakeShadow=false); !* IE6~IE9 *!*/
        /*}*/
        #logo{
            position: absolute;
            top:30px;
            left:20px;
            height: 81px;
            width: 143px;
            z-index: 10;

        }
        #logo img{
            width:100%;
            height: 100%;
        }
        #titleContent{
            position: absolute;
            left:37%;
            top:70px;
            margin:0 auto;
            text-align: left;
        }
        #titleContent .content-on{
            width: 277px;
            height: 63px;
            /* background-image:url("../image/on_05.png") */
        }
        #titleContent .content-down{
            width: 202px;
            height: 43px;
            margin-top: 10px;
            /* background-image:url("../image/down_08.png") */
        }

        .signin-box{
            text-align: center;
            /*position: relative;*/
        }
        .signin-box .title{
            color: #e42020;
            font-size: 30px;
            font-family: 微软雅黑;
            margin: 30px 0 ;
        }
				.login-box-errorTips { 
        	width: 360px;
        	height: 30px;
        	margin: 0 auto;
        	line-height: 30px;
        	color: #e12273;
        	text-align: right; 
        }
        form{
            margin:0 auto 100px;
            width: 325px;
            color:#cccccc;
        }
        .form-input{
            width:323px;
            height: 40px;
            border:1px solid #cccccc;
            border-radius: 3px;
            margin:10px auto;
            position: relative;
        }
        .form-input input{
            width:283px;
            height:38px;
            position: absolute;
            right:0;
            border:none
        }
        .form-input .form-icon{
            position: absolute;
            left:0;
            top:5px;
            height: 40px;
        }
        .form-input .form-icon:after{
            content: "";
            width: 10px;
            height: 18px;
            position: absolute;
            right:0;
            top:5px;
            border-right: 1px solid #ccc;

        }
        .form-input-checkbox{
            float: left;
            font-size: 12px;

        }
        .clearfix{
            overflow: auto;
            height:20px;
        }

        #form-btn{
            display: block;

            margin:40px auto 30px;
            width: 180px;
            height: 40px;
            color:#fff;
            background-color:#e42020;
            border-radius: 2px;
            border: none;
            font-size: 14px;
            font-family: 微软雅黑;
        }
        input[type='checkbox']{
            width:18px;
            height: 18px;
            background-color: #fff;
        }
       .form-lable{
           margin-left: 5px;
           float: left;
       }
    </style>
</head>
<body>
<header>
    <div id="logo"><img src="../image/logo.png"></div>
    <div class="bgImg bg-blur"></div>
    <div id="titleContent">
        <div class="content-on"></div>
        <div class="content-down"></div>
    </div>
</header>
<section class="signin-box">
    <div class="title">欢迎使用 CU-IEP</div>
    <div class="line"></div>
    <div class="login-box-errorTips"></div>
    <form id="login-form">
        <div class="form-input" id="inputUserName">
            <div class="form-icon" id="icon-username"><img src="../image/icon-username_15.png"></div>
            <input type="text"   id="username"  class="username" placeholder="输入用户名">
        </div>
        <div class="form-input" id="inputPassword">
            <div class="form-icon" id="icon-password"><img src="../image/icon-password_19.png"></div>
            <input type="password" id="password" placeholder="输入密码">
        </div>
        <div class="clearfix" style="overflow:hidden">
        <input class="form-input-checkbox" type="checkbox" name="user-save" value="">
        <label class="form-lable">记住用户名和密码</label>
        </div>
        <input id="form-btn" type="submit" value="登录">
    </form>
</section>
</body>
<script src="../plugins/jQuery/jQuery-2.1.4.min.js"></script>
	
	<script>
		$(function () {
			// 聚焦/失焦样式
			$('.login-box-form-input input').on('focus', function () {
				$(this).parents().addClass('focus');
			}).on('blur', function () {
				$(this).parents().removeClass('focus');
			});
			// 记住密码
			$('.login-box-form-checkbox').on('click', function () {
				$(this).find('b').toggleClass('checked');
			});

			// 登录提交表单
			$('#login-form').on('submit', function () {
				console.debug("submit login..");
				$('.login-box-errorTips').text('');
				if( $('#username').val() == '' ){
		            $('.login-box-errorTips').text('请填写用户名！');
		            return false;
		        };
		        if( $('#password').val() == '' ){
		            $('.login-box-errorTips').text('请填写密码！');
		            return false;
		        };
		    	$.post("/checklogin", {username:$('#username').val(),password:$('#password').val()},
		  		   	    function(user){
		  		   	    	if(user==null||user===''){
		  		   	    	$('.login-box-errorTips').text("用户名或密码错误");
		  		   	    	
		  		   	    	}else{
		  		   	    		var myDate = new Date();
		  		   	    		location.href="/index?now="+myDate.toLocaleTimeString();
		  		   	    	}
		  		   	    });	
		    
				return false;
			});
		});
	</script>
</html>